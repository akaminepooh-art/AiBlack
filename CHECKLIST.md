# ✅ デプロイ前チェックリスト

デプロイを開始する前に、以下の項目を確認してください。

---

## 📋 ステップ1: ローカル環境の確認

### 必須項目
- [ ] Node.js 18.0.0以上がインストールされている
- [ ] `npm install` が正常に完了する
- [ ] `npm run build` が正常に完了する
- [ ] `npm start` でローカルサーバーが起動する
- [ ] http://localhost:3001 にアクセスしてアプリが表示される
- [ ] 認証ページでパスワード `akirakira` でログインできる
- [ ] チャートが表示される
- [ ] 銘柄検索が動作する

### 推奨項目
- [ ] Python 3.x がインストールされている（指標計算用）
- [ ] `.gitignore` に `node_modules/` と `.env` が含まれている
- [ ] `.env` ファイルに機密情報が含まれている場合は削除

---

## 📋 ステップ2: GitHubリポジトリの準備

### 必須項目
- [ ] GitHubアカウントを持っている
- [ ] 新しいリポジトリを作成した
- [ ] ローカルで `git init` を実行した
- [ ] すべてのファイルを `git add .` でステージングした
- [ ] `git commit -m "Initial commit"` でコミットした
- [ ] GitHubのリモートリポジトリを追加した
- [ ] `git push -u origin main` でプッシュした
- [ ] GitHubでファイルが正しくアップロードされているか確認した

### 推奨項目
- [ ] README.md を更新した
- [ ] LICENSE ファイルを追加した
- [ ] .gitignore が正しく設定されている

---

## 📋 ステップ3: Renderアカウントの準備

### 必須項目
- [ ] Renderアカウントを作成した: https://render.com
- [ ] GitHubアカウントでサインアップした
- [ ] Renderにリポジトリへのアクセスを許可した

---

## 📋 ステップ4: Renderデプロイ設定

### 必須項目
- [ ] 「New Web Service」を作成した
- [ ] リポジトリを接続した
- [ ] Name: `trading-platform` を設定した
- [ ] Region: `Singapore` を選択した
- [ ] Branch: `main` を選択した
- [ ] Runtime: `Node` を選択した
- [ ] Build Command: `npm install && npm run build` を設定した
- [ ] Start Command: `npm start` を設定した

### 環境変数
以下の環境変数をすべて設定したか確認:

- [ ] `NODE_ENV` = `production`
- [ ] `PORT` = `3001`
- [ ] `HOST` = `0.0.0.0`
- [ ] `PYTHON_PATH` = `python3`
- [ ] `PYTHON_INDICATORS_DIR` = `./python-indicators`
- [ ] `PYTHON_TIMEOUT` = `30000`
- [ ] `CACHE_ENABLED` = `true`
- [ ] `CACHE_TTL` = `300`
- [ ] `RATE_LIMIT_WINDOW` = `60000`
- [ ] `RATE_LIMIT_MAX_REQUESTS` = `100`
- [ ] `LOG_LEVEL` = `info`

### プラン選択
- [ ] Free プラン（開発・テスト用）を選択した
- または
- [ ] Starter プラン（$7/月、常時稼働）を選択した

---

## 📋 ステップ5: デプロイ実行

### 必須項目
- [ ] 「Create Web Service」をクリックした
- [ ] ビルドログを確認してエラーがないか確認した
- [ ] デプロイが完了するまで待った（5-10分）
- [ ] RenderのURLが発行された
- [ ] URLをコピーした

---

## 📋 ステップ6: 動作確認

### 必須項目
- [ ] RenderのURLにアクセスした
- [ ] 認証ページが表示された
- [ ] パスワード `akirakira` でログインできた
- [ ] メインアプリが表示された
- [ ] チャートが表示された
- [ ] 銘柄検索が動作した
- [ ] ブラウザコンソール（F12）でエラーがないか確認した

### 推奨項目
- [ ] 複数の銘柄で検索してみた
- [ ] 指標計算が正常に動作するか確認した
- [ ] レスポンス速度を確認した
- [ ] モバイルブラウザでアクセスして確認した

---

## 📋 ステップ7: Railwayへの移行（本番運用時）

### 必須項目
- [ ] Railwayアカウントを作成した: https://railway.app
- [ ] 「New Project」→「Deploy from GitHub repo」を選択した
- [ ] リポジトリを選択した
- [ ] 環境変数を設定した
- [ ] ドメインを生成した
- [ ] RailwayのURLにアクセスして動作確認した
- [ ] Renderのサービスを停止した（必要に応じて）

---

## 🐛 トラブルシューティングチェックリスト

### ビルドエラーの場合
- [ ] ローカルで `npm run build` が成功するか確認した
- [ ] Node.jsバージョンが18.0.0以上か確認した
- [ ] `package.json` の `engines` 設定を確認した
- [ ] Renderのビルドログでエラーメッセージを確認した

### アプリが起動しない場合
- [ ] Renderの「Logs」タブでエラーを確認した
- [ ] 環境変数が正しく設定されているか確認した
- [ ] `HOST` が `0.0.0.0` に設定されているか確認した
- [ ] `PORT` が正しく設定されているか確認した

### ページが表示されない場合
- [ ] RenderのURLが正しいか確認した
- [ ] デプロイが完了しているか確認した
- [ ] ブラウザのキャッシュをクリアした
- [ ] 別のブラウザで試した

### API接続エラーの場合
- [ ] ブラウザコンソールでエラーメッセージを確認した
- [ ] バックエンドが正常に起動しているか確認した
- [ ] CORS設定を確認した
- [ ] ネットワークタブでAPIリクエストを確認した

---

## 📞 サポート情報

### エラーが解決しない場合

1. **ビルドログを確認**:
   - Renderダッシュボード → 「Logs」タブ
   - エラーメッセージをコピー

2. **環境変数を確認**:
   - すべての環境変数が正しく設定されているか確認

3. **ローカル環境で再テスト**:
   - `npm install`
   - `npm run build`
   - `npm start`
   - すべて成功するか確認

4. **Render公式ドキュメントを確認**:
   - https://render.com/docs
   - Node.js デプロイガイドを参照

5. **GitHubのissuesを確認**:
   - 同じ問題が報告されていないか確認

---

## 🎉 完了！

すべてのチェック項目が完了したら、デプロイ成功です！

次のステップ:
1. パフォーマンス監視
2. カスタムドメイン設定
3. セキュリティ強化
4. 機能追加

---

**作成日**: 2026年1月31日
